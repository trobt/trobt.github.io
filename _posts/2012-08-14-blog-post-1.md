---
title: 'Omron corobot tutorial'
date: 2025-11-13
permalink: /posts/2025/11/blog-post-1/
tags:
  - Harware & software
  - cobot
---

This is a sample blog post. Lorem ipsum I can't remember the rest of lorem ipsum and don't have an internet connection right now. Testing testing testing this blog post. Blog posts are cool.

Control a corobot arm for starter
======

版本：
 <pre>
    TM5 - 900
    Jetson Xavier NX
    Ubuntu 20.04
    ARM64
    ROS2 Foxy
    TM ROS Driver Foxy
 </pre> 

功能：图形化编程、内置视觉系统（上料、检测、测量任务）、支持与AGV集成

参数：

<img width="823" height="189" alt="image" src="https://github.com/user-attachments/assets/2e02e0cd-494d-47d8-bbe3-d11fc8e19a7b" />

<img width="838" height="230" alt="image" src="https://github.com/user-attachments/assets/a6e0bb6c-d985-4848-a88b-0f58780d7408" />

<!-- P4P系统搭建指南 > wsjade.zip 所有软件包 > finalsensorscript.ino 通过USB上传至ESP32微控制器 > USB链接intel摄像头到机械臂末端执行器 -->

Setting Up
======

1st step 硬件准备 & 链接
------
设备清单：

<pre>
  笔记本 i5 16GB RAM
  Cobrobot TMflow controller
  网线 将机械臂controller直接连入同一局域网
  电源 控制箱和机械臂分别供电
  Jetson / 工控机
</pre>


打开电源差插头 》 打开Jetson, Ubuntu boots 》 进行登录

打开corobot（摇杆上的电源）进入TMflow boots 》 用户登录 》 点击corobot图像下方 获取控制权 
》 按下机器人手柄上的M/A按钮，将模式切换到手动模式 》 进入项目界面进行项目的编辑和创建等


2nd step 软件配置
------

1) TMflow下载（官网/USB安装盘）
&nbsp; 可视化编程工具、熟悉机械臂的动作流程和IO配置

2) TMflow SDK
TM提供python、C#、ROS等SDK

&nbsp; 用于从外部PC直接控制机械臂

3) Python环境 / ROS环境 ？？？？？ 可以用其他环境吗ROS？
<pre>
conda create -n tmrobot python=3.10
conda activate tmrobot
pip install tmrobot
</pre>
tmrobot - 欧姆龙提供的Python SDK，用于通过TCP/IP与机械臂通讯

3rd step 通信建立
------

可以通过以下多个方法建立通信：
<pre>
TMflow本地运行 - 通过其软件GUI编程
Ethernet TCP/IP Socket - 外部PC可直接控制机械臂
Modbuss /EtherCAT - 工控环境通信
ROS Bridge (ROS 1/2) - 适合研究，可以配合仿真进行使用
</pre>

推荐做法:
<pre>
* 将网线直接连接自己的笔记本与TM controller
    controller IP = 192.168.1.2
    自己的笔记本 IP = 192.168.1.100
* 测试 ping
    bash
      ping 192.168.1.2
  if 显示成功，则连接正常
* 通过Socket建立通讯
    在python中写入：
        from tmrobot import TMRobot

        robot = TMRobot ('192.168.1.2')
        robot.connect()
        robot.move_joint([0, -30, 60, 0, 90, 0], 50, 200, wait=Ture)
        robot.disconnect()

  in this way, 就可以从笔记本直接控制机械臂
</pre>

4th step 编程控制
------

控制层次理解：
<pre>
  high-level(任务) TMflow程序、Python API、ROS action > 通过TMflow SDK/ ROS实现
  mid-level(轨迹) 关节插补、直线插补 > 通过对应的函数接口实现move_joint() / move_line()
  low-level (电机伺服) 电流/FOC控制 > 一般不会开发
</pre>

5th step 进阶控制 - 实现自主控制 or 视觉伺服
------

<pre>
Visionservoing:  OpenCV + TMvision + Python SDK  > 通过相机检测物体坐标，然后下发运动指令
RL + control algorithm: Pytorch + Isaac Gym / ROS2 > 在仿真环境中训练策略，再下发TM SDK指令
Dual arm manipulation: TM SDK + 时间同步 > 通过TCP同步命令，实现协同控制
仿真：ROS + Gazebo + TM Robot Model > 构建虚拟环境测试算法  
</pre>

